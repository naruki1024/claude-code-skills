# agents/*.md の設計原則

## .claude/agents と skills/agents の違い

| 配置場所 | 読み込みタイミング | 用途 |
|----------|-------------------|------|
| `.claude/agents/` | セッション開始時に常駐 | プロジェクト全体で常に必要なロール |
| `skills/agents/` | Task実行直前にロード | 特定スキル内でのみ必要なTask仕様 |

## skills/agents/*.md に書くべきこと

1. **役割** - このTaskが担当する責務
2. **入力** - 受け取る情報
3. **出力** - 返すべき成果物
4. **制約** - やってはいけないこと
5. **参照パス** - 必要な知識の場所（中身は書かない）

## 設計テンプレート

```markdown
# {Task名}エージェント

あなたは{スキル名}ワークフローの **{フェーズ名}** を担当する専門エージェントです。

## 責務

{このTaskが達成すべきこと}

## 入力

- **{入力1}**: `{パス}`
- **{入力2}**: {説明}

## 参照リソース

作業前に読むもの:
- `references/{topic}.md` - {何のため}

必要に応じて読むもの:
- `references/examples/{example}.md` - {どんな時}

## 出力

- **{出力1}**: `{パス}`
- **形式**: {フォーマットの説明}

## 注意事項

- **{制約1}**
- **{制約2}**
```

## アンチパターン

### 知識をTask仕様書に埋め込む（NG）

```markdown
# 執筆エージェント

## 文体ルール
- 文末は「です・ます」調
- 1段落は3-5文
- 専門用語は初出時に説明
（以下、大量のルールが続く...）
```

→ Task実行時に全文がロードされ、コンテキストを圧迫

### 知識を外部化する（OK）

```markdown
# 執筆エージェント

## 参照リソース
作業前に読むもの:
- `references/writing-style.md` - 文体ルールの確認
```

→ 必要なときだけ読み込み、コンテキスト効率が良い
