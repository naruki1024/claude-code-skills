# タスクパターンガイド

browser-use は自然言語でタスクを指示するため、明確で具体的なタスク記述が重要。

## 基本パターン

### 1. ページ内容確認

指定 URL を開いて内容を確認する。

**タスク例:**
```
"https://example.com にアクセスして、ページの概要を教えてください"
```

**Python:**
```python
agent = Agent(
    task="https://example.com にアクセスして、ページの概要を教えてください",
    browser=browser,
)
```

### 2. 情報取得

ページから特定の情報を抽出する。

**タスク例:**
```
"このニュースサイトから最新ニュースの見出しを5件取得してください"
"GitHubリポジトリのスター数を調べてください"
"この商品の価格と在庫状況を教えてください"
```

**Python:**
```python
agent = Agent(
    task="https://news.example.com から最新ニュースの見出しを5件取得してください",
    browser=browser,
)
```

### 3. フォーム入力

フォームにデータを入力する。

**タスク例:**
```
"問い合わせフォームに以下を入力してください: 名前=山田太郎, メール=yamada@example.com, 内容=お問い合わせテスト"
```

**注意:** 送信の可否を明確に指示する
```
"入力だけして送信はしないでください"
"入力後、送信ボタンをクリックしてください"
```

### 4. ログイン

認証が必要なサイトにログインする。

**タスク例:**
```
"ログインページでユーザー名「user@example.com」、パスワード「password123」を入力してログインしてください"
```

**セキュリティ注意:**
- 認証情報は環境変数から読み込むことを推奨
- ログに認証情報を出力しない

### 5. 検索

サイト内検索を実行する。

**タスク例:**
```
"このサイトで「MacBook Pro」を検索し、検索結果の上位3件を教えてください"
```

### 6. 複数ページ巡回

複数のページを順次アクセスしてデータを収集する。

**タスク例:**
```
"このECサイトの「スマートフォン」カテゴリの商品を最初の3ページ分取得してください"
```

## 高度なパターン

### 7. 比較リサーチ

複数のサイトで情報を比較する。

**タスク例:**
```
"Amazon、楽天、ヨドバシカメラでiPhone 15の価格を調べて比較してください"
```

### 8. データ収集（スクレイピング）

構造化データを大量に収集する。

**タスク例:**
```
"このサイトの商品一覧から、商品名、価格、評価を全て抽出してJSONで出力してください"
```

### 9. フォーム自動入力（複数フィールド）

複雑なフォームを自動入力する。

**タスク例:**
```
"履歴書情報を使ってこの求人フォームに応募してください。
名前: 山田太郎
メール: yamada@example.com
電話: 090-1234-5678
自己PR: [内容]"
```

### 10. 監視・確認

特定の条件をチェックする。

**タスク例:**
```
"このサイトで在庫ありになっている商品があるか確認してください"
"ページにエラーメッセージが表示されていないか確認してください"
```

## タスク記述のベストプラクティス

### 良いタスク記述

```
✓ "https://example.com のトップページから、ニュース見出しを5件取得してリスト形式で教えてください"
✓ "ログインフォームにユーザー名「test」、パスワード「pass」を入力し、ログインボタンをクリックしてダッシュボードが表示されるか確認してください"
✓ "商品検索で「ノートパソコン」を検索し、価格が10万円以下の商品を3件教えてください"
```

### 悪いタスク記述

```
✗ "サイトを操作して" (具体性がない)
✗ "データを取得" (対象が不明)
✗ "フォームに入力" (何を入力するか不明)
✗ "ログインして" (認証情報がない)
```

## パターン選択ガイド

| ユーザーの依頼 | パターン |
|----------------|----------|
| 「〜を見て」「〜を確認」 | ページ内容確認 |
| 「〜を取得」「〜を抽出」 | 情報取得 |
| 「〜を入力」「〜を記入」 | フォーム入力 |
| 「ログインして」「認証して」 | ログイン |
| 「〜を検索」 | 検索 |
| 「一覧を取得」「全ページ」 | 複数ページ巡回 |
| 「〜と〜を比較」 | 比較リサーチ |
| 「スクレイピング」「データ収集」 | データ収集 |

## 組み合わせ例

### ログイン後にデータ取得

```python
agent = Agent(
    task="""
    1. https://dashboard.example.com にアクセス
    2. ユーザー名「user」、パスワード「pass」でログイン
    3. ダッシュボードから今月の売上データを取得
    4. 結果をJSON形式で出力
    """,
    browser=browser,
)
```

### フォーム入力後に結果確認

```python
agent = Agent(
    task="""
    1. 問い合わせフォームに以下を入力: 名前=テスト, メール=test@example.com
    2. 送信ボタンをクリック
    3. 送信完了メッセージが表示されたらスクリーンショットを撮影
    """,
    browser=browser,
)
```
