# Claude Codeのコンテキストウィンドウを完全に理解する

> 出典: https://gihyo.jp/article/2025/12/get-started-claude-code-05

## 概要

この記事は、Claude Codeのコンテキストウィンドウの構成と動作について詳細に解説しています。

## 目次

- コンテキストウィンドウを制するものは開発を制する
- 拡張思考モードの際のコンテキストウィンドウ
- コンテキストウィンドウの中身
- Claude Codeが動くための30%の領域
- Auto Compactの領域
- Auto Compactの正体
- コンテキストウィンドウに常駐するもの
- コンテキストウィンドウを占有しないもの
- IDE連携
- まとめ

## 重要な内容

### コンテキストウィンドウの定義

「LLMが新しいテキストを生成する際に参照できるテキストの全体量と、生成する新しいテキストを合わせたもの」（最大20万トークン）

### 領域配分

| 領域 | 割合 |
|------|------|
| システムプロンプト | 1.4% |
| システムツール | 9.7% |
| Auto Compactバッファ | 22.5% |
| ユーザー利用可能 | 残り |

### コンテキストウィンドウに常駐するもの

- CLAUDE.md
- MCPサーバー
- カスタムエージェント
- カスタムスラッシュコマンド

### コンテキストウィンドウを占有しないもの

- Hooks
- Agent Skills

### IDE連携の注意点

開いているファイルがコンテキストに自動含有され、セキュリティリスクも存在する点に注意が必要。
